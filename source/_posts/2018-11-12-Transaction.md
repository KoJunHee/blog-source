---
layout: post
title:  "Transaction"
date:   2018-11-12
categories: Database
---

##### 트렌젝션이란 ?

하나의 논리적인 작업 단위를 구성하는 연산들의 집합입니다.

##### 트렌젝션의 상태는 뭐가 있나요 ?

1. Active
트랜잭션이 실행중이며 동작중인 상태를 말합니다.

2. Failed
트랜잭션이 더이상 정상적으로 진행 할 수 없는 상태를 말합니다.

3. Partial Committed
트랜잭션의 Commit 명령이 도착한 상태입니다. commit만 남은 상태입니다.

4. Committed 
트랜잭션 완료 상태입니다.

5. Aborted 
트랜잭션이 취소되고, 트랜잭션 실행 이전 데이터로 돌아간 상태입니다.

##### ACID란 ?

트렌젝션의 네 가지 주요 특징입니다.

1. Atomicity

   all or nothing 입니다. 트랜잭션의 모든 연산들이 정상적으로 수행 완료되거나, 아니면 전혀 어떠한 연산도 수행되지 않은 상태를 보장해야 합니다.

2. Consistency

   트랜잭션이 완료된 다음의 상태에서도, 트랜잭션이 일어나기 전의 상황과 동일하게 데이터의 일관성을 보장해야합니다. 트랜잭션 수행이 보존해야 할 일관성은 기본 키, 외래 키 제약과 같은 명시적인 무결성 제약 조건들뿐만 아니라, 자금 이체 예에서 두 계좌 잔고의 합은 이체 전후가 같아야 한다는 사항과 같은 비명시적인 일관성 조건들도 있습니다.

3. Isolation

   여러 트랜잭션이 동시에 수행되더라도, 각각의 트랜잭션은 다른 트랜잭션의 수행에 영향을 받지 않고 독립적으로 수행되어야 합니다.

4. Durability

   트랜잭션이 성공적으로 완료되어 커밋되고 나면, 해당 트랜잭션에 의한 모든 변경은 향후에 어떤 소프트웨어나 하드웨어 장애가 발생되더라도 보존되어야 합니다.

##### Commit, Rollback 이란 ?

1. Commit

   모든 작업을 정상적으로 처리하겠다고 확정하는 명령어이입니다. 트랜젝션의 처리 과정을 데이터베이스에 반영하기 위해서, 변경된 내용을 모두 영구 저장합니다.

2. Rollback

   작업 중 문제가 발생했을 때, 트랜젝션의 처리 과정에서 발생한 변경 사항을 취소하고, 트랜젝션 과정을 종료시킨는 명령어입니다. 트랜젝션으로 인한 하나의 묶음 처리가 시작되기 이전의 상태로 되돌립니다.

##### Reference

<https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Database#transaction>

<https://wikidocs.net/4096>